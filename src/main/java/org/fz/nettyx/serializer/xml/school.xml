<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<root namespace="school">

    <model-mapping>
        <student>stu</student>
        <teacher>teac</teacher>
    </model-mapping>

    <enum>
        <country>
            CHINA,
            USA,
            JAPAN
        </country>

        <gender>
            FEMAIL,
            MAIl
        </gender>
    </enum>

    <!--建议使用专门的xml来保存协议中所有开关-->
    <switch>
        <course>
            NATURAL,
            MEDICINE,
            NOTUSED
        </course>
    </switch>

    <model>
        <student>
            <id :offset="0" :length="2" :type="string(utf-8)"/>
            <age :offset="2" :length="1" :type="byte"/>
            <name :offset="3" :length="2" :type="string(utf-8)"/>
            <gender :offset="5" :length="1" :type="enum(gender)"/>
            <country-array :offset="6" :length="2" :array-length="2" :type="enum(country)"/>
            <maincourse :offset="8" :length="1" :type="switch(course)"/>
            <phonenum-array :offset="9" :length="4" :array-length="2" :type="int"/>
            <secondarycours-array :offset="13" :length="8" :array-length="2" :type="switch(course)"/>
            <address-array :offset="21" :length="2" :array-length="3" :type="string(utf-8)"/>
        </student>

        <teacher>
            <id :offset="92" :length="2" :type="string(us-ascii)"/>
            <name :offset="94" :length="2" :type="int"/>
        </teacher>
    </model>

</root>



 

 